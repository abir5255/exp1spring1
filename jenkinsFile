pipeline {
    agent any
    tools {
        maven 'maven'
    }
    stages {
        stage("Clean up") {
            steps { 
                deleteDir()
            }
        }
     stage("Clone repo") {
    steps {
        script {
            try {
                sh "git clone https://github.com/abir5255/exp1spring1.git"
            } catch (Exception e) {
                echo "Erreur lors du clonage du dépôt Git : ${e.message}"
                currentBuild.result = 'FAILURE'
            }
        }
    }
}

stage("Run docker compose") {
    steps {
        script {
            dir("exp1spring1") {
                sh "start /B docker-compose up -d"
            }
        }
    }
}


    }
}
